<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <meta charset="utf-8">
    <!--<script src="app/scripts/vendor/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="app/scripts/vendor/underscore-min.js"></script>-->
    <script type="text/javascript" src="app/scripts/vendor/angular.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/angular-route.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/angular-animate.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/angular-sanitize.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/angular-messages.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/ngStorage.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/ui-bootstrap-tpls.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/ng-table.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/angular-locale_es-ar.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/moment.js"></script>
    <!--<script type="text/javascript" src="app/scripts/vendor/ui-grid.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/toaster.min.js"></script>
    <script type="text/javascript" src="app/scripts/vendor/select.js"></script>-->
    <script type="text/javascript" src="app/scripts/vendor/angular-bootstrap-file-field.min.js"></script>
    <script type="text/javascript" src="app/scripts/services.js"></script>
    <script type="text/javascript" src="app/scripts/directives.js"></script>
<!--    <script type="text/javascript" src="app/scripts/loadingStatusDirective.js"></script>-->
    <script type="text/javascript" src="app/scripts/main.js"></script>
    <!--<script type="text/javascript" src="app/scripts/filters.js"></script>-->
    <script type="text/javascript" src="app/scripts/controllers/ejerciciosController.js"></script>
    <script type="text/javascript" src="app/scripts/utils.js"></script>
    <script type="text/javascript" src="app/data/grupos.js"></script>
    <script type="text/javascript" src="app/data/ejercicios.js"></script>
    <script type="text/javascript" src="app/data/musicas.js"></script>
    <link rel="stylesheet" type="text/css" href="app/scripts/vendor/bootstrap.cerulean.css" />
    <link rel="stylesheet" type="text/css" href="app/scripts/vendor/ng-table.min.css" />
    <link rel="stylesheet" type="text/css" href="app/styles/site.css" />
</head>
<body role="document" ng-app="app" >
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container" ng-controller="headerController">
        <div class="navbar-header" >
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
            <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Biodanza</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <!--<li ><a href="/">Inicio</a></li>-->
                <li ng-class="{active:isActive('/clases')}"><a href="#clases">Clases</a></li>
                <li ng-class="{active:isActive('/ejercicios')}"><a href="#ejercicios">Ejercicios</a></li>
                <li ng-class="{active:isActive('/musica')}"><a href="#musicas">Música</a></li>
                <li ng-class="{active:isActive('/config')}"><a href="#config">Configuración</a></li>
                <li ng-class="{active:isActive('/importarMusica')}"><a href="#importarMusica">Agregar Música</a></li>
                <li ng-class="{active:isActive('/acercade')}"><a href="#acercade">Acerca De...</a></li>
                <!--                  <li class="dropdown">
                                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                                          <ul class="dropdown-menu">
                                              <li><a href="#">Action</a></li>
                                              <li><a href="#">Another action</a></li>
                                              <li><a href="#">Something else here</a></li>
                                              <li class="divider"></li>
                                              <li class="dropdown-header">Nav header</li>
                                              <li><a href="#">Separated link</a></li>
                                              <li><a href="#">One more separated link</a></li>
                                          </ul>
                                      </li>-->
            </ul>
        </div><!--/.nav-collapse -->
    </div>
    <audio controls id="audioControl" ng-src="{{player.musicaFile}}" hidden="hidden"></audio>
</div>
<div class="container">
    <br/>
    <br/>
    <br/>
    <div ng-include="'playerControls.html'"></div>
    <div class="row" ng-view=""></div>
</div>

<script type="text/ng-template" id="ejercicios.html">
    <div class="row" style="height:80vh;overflow-y: scroll;">
        <form class="form-inline">
              <ng-include src="'grillaEjercicios.html'" />
        </form>
    </div>
</script>
<script type="text/ng-template" id="modalEjercicio.html">
    <div class="modal-content">
        <div class="modal-header">
            <div class="col-md-11">
                <h3>{{ejercicio.nombre}}  - ({{ejercicio.grupo}})</h3>
            </div>
            <div class="col-md-1">
                <button type="button" class="btn btn-success" aria-hidden="true" ng-click="aceptar()"> Cerrar </button>
            </div>
        </div>
        <div class="modal-body">
            <div class="row">
                <div class="form-horizontal" role="form">
                    <div class="col-lg-12">
                        <div class="form-group">
                            <label class="control-label " style="text-align:left;" data-ng-bind-html="ejercicio.detalle"></label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <table id="tblEjercicio" class="table table-striped table-hover" style="margin-bottom: 0px !important;">
                    <thead>
                        <tr class="success">
                            <td class="col-md-1 col-lg-1 centrado" ordenamiento="Lider">
                                <label id="lbl_Lider" runat="server">Identificador</label>
                            </td>
                            <td class="col-md-4 col-lg-4 centrado" ordenamiento="Lider">
                                <label id="lbl_Lider" runat="server">Canción</label>
                            </td>
                            <td class="col-md-3 col-lg-3 centrado" ordenamiento="Estado" style="width:60px;">
                                <label id="lbl_Estado" runat="server">Interprete</label>
                            </td>
                            <td class="col-md-1 col-lg-1 centrado" ordenamiento="Musicas">
                                <label id="lbl_MotivoAnulacion">Duración</label>
                            </td>
                            <td class="col-md-1 col-lg-1 centrado" ordenamiento="Musicas">
                                <label id="lbl_MotivoAnulacion">Play</label>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="musica in ejercicio.musicas">
                            <td>
                                {{ musica.coleccion + ' ' + musica.nroCd + '-' + musica.nroPista  }}
                            </td>
                            <td>
                                {{ musica.nombre }}
                            </td>
                            <td>
                                {{ musica.interprete }}
                            </td>
                            <td>
                                {{ musica.duracion }}
                            </td>
                            <td class="col-md-2 col-lg-2 centrado">
                                <a ng-click="playMusica(musica)">play</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal-footer">
            <div class="controls-row">
                <button type="button" class="btn  btn-success" aria-hidden="true" ng-click="aceptar()"> Cerrar </button>
                <!--<button type="button" class="btn btn-warning" data-dismiss="modal" aria-hidden="true" ng-click="cancel()"> Cancelar </button>-->
            </div>
        </div>
    </div>
    
</script>
<script type="text/ng-template" id="grillaMusica.html">
    <div class="row form-inline">
        <div class="col-md-6">
            <label class="form-label">Ejercicio:</label>
            <input type="text" ng-model="modelMusicas.ejercicioTextFilter" ng-blur="modelMusicas.refreshGrid()" uib-typeahead="nombre for nombre in modelMusicas.ejerciciosNombre | filter:$viewValue | limitTo:15" class="form-control  input-md input-search" style="width:350px;">
            <button type="button" class="btn btn-primary btn-sm" ng-if="isMobileOrTablet" ng-click="modelMusicas.refreshGrid()"><i class="glyphicon glyphicon-search"></i></button>
        </div>
        <table id="tblMusicas" ng-table="modelMusicas.tableParams" show-filter="true" class="table table-striped table-hover" style="margin-bottom: 0px !important;">
            <tr data-ng-repeat="musica in $data" >
                <td class="col-md-1 col-lg-1 " title="'Col.'" sortable="'coleccion'" filter="{coleccion: 'text'}">
                    {{ musica.coleccion }}
                </td>
                <td class="col-md-1 col-lg-1 " title="'Identificador'" filter="{nroCd: 'text'}">
                    {{ musica.nroCd + '-' + musica.nroPista  }}
                </td>
                <td class="col-md-4 col-lg-4 " title="'Canción'" sortable="'nombre'" filter="{nombre: 'text'}">
                    <span ng-if="modelMusicas.select !== true">{{ musica.nombre }}</span><a ng-if="modelMusicas.select === true" ng-click="modelMusicas.ok(musica)">{{ musica.nombre }}</a>
                </td>
                <td class="col-md-3 col-lg-3 " title="'Interprete'" sortable="'interprete'" filter="{interprete: 'text'}">
                    {{ musica.interprete }}
                </td>
                <td class="col-md-1 col-lg-1 " title="'Lineas'" sortable="'lineas'" filter="{lineas: 'text'}">
                    {{ musica.lineas }}
                </td>
                <td class="col-md-1 col-lg-1 " title="'Duración'" sortable="'duracion'">
                    {{ musica.duracion }}
                </td>
                <td class="col-md-1 col-lg-1" title="'play'">
                    <button type="button" class="btn btn-warning" ng-click="modelMusicas.playFile(musica)"><span class="glyphicon glyphicon-play"></span></button>
                </td>
                <td class="col-md-1 col-lg-1" title="'sel'" ng-if="modelMusicas.select === true">
                    <a ng-if="modelMusicas.select === true" ng-click="modelMusicas.ok(musica)"><span ng-click="modelMusicas.selected(musica)" class="glyphicon glyphicon-ok"></span></a>
                </td>
            </tr>
        </table>
    </div>
</script>
<script type="text/ng-template" id="musicas.html">
    <div class="row" >
        <div ng-include="'grillaMusica.html'"></div>
    </div>
</script>
<script type="text/ng-template" id="config.html">
    <div class="row">
        <form class="form-inline">
            <div class="row">
                <br/>
                <div class="form-group col-md-12">
                    <label class="control-label col-md-3">Carpeta de las colecciones de musica:</label>
                    <input type="text" ng-model="config.pathMusica" class="col-md-6">
                </div>
                <button type="button" class="btn btn-primary" ng-click="grabar()">Grabar</button>
            </div>
        </form>
    </div>
</script>
<script type="text/ng-template" id="clases.html">
    <div class="row">
        <form class="form-inline">
            <div class="btn-group">
                <button type="button" class="btn btn-primary" ng-click="nueva()" title="Crear una nueva clase"><span class="glyphicon glyphicon-file"></span>   Crear Clase</button>
                <label class="btn btn-success" ng-model="vistaCompacta" uib-btn-radio="false" ng-show="vistaCompacta"><span class="glyphicon glyphicon-resize-full"></span></label>
                <label class="btn btn-success" ng-model="vistaCompacta" uib-btn-radio="true" ng-show="!vistaCompacta"><span class="glyphicon glyphicon-resize-small"></span></label>
                <button type="button" class="btn btn-primary" ng-click="exportarClases()" title="Exportar todas las clases aun archivo"><span class="glyphicon glyphicon-export"></span>   Exportar Clases</button>
                <button type="button" class="btn btn-primary" ng-click="pickImportFile()" title="Importar clases de un archivo"><span class="glyphicon glyphicon-import"></span>   Importar Clases</button>
            </div>
            <input type="file" id="fileImport" style="visibility:hidden;" onchange="angular.element(this).scope().importarClases(this)" />
            <table id="tblClases" ng-table="tableParams" show-filter="true" class="table table-striped table-hover" style="margin-bottom: 0px !important;">
                <tr data-ng-repeat="clase in $data">
                    <td class="col-md-2 col-lg-2 " title="'Título'" sortable="'titulo'" filter="{titulo: 'text'}">
                        <div class="btn-group col-md-8"  ng-show="vistaCompacta !== true">
                            <button type="button" class="btn btn-success" ng-click="editarClase(clase)" title="Modificar clase"><span class="glyphicon glyphicon-edit"></span></button>
                            <button type="button" class="btn btn-primary" ng-click="exportar(clase)" title="Exportar clase a un archivo"> <span class="glyphicon glyphicon-share"></span></button>
                        </div>
                        <div class="btn-group col-md-4"  ng-show="vistaCompacta !== true">
                            <button type="button" class="btn btn-danger" ng-click="delete(clase)" title="Eliminar clase" arsoft-confirmation="Esta seguro que quiere eliminar la clase?" arsoft-confirmation-title="Confirma Eliminación"><span class="glyphicon glyphicon-trash"></span></button>
                        </div>
                        <div class="col-md-12"  ng-click="editarClase(clase)">
                            <label class="control-label" ng-bind="clase.titulo" />
                        </div>
                    </td>
                    <td class="col-md-2 col-lg-2 " title="'Fecha Clase'" filter="{fechaClase: 'text'}">
                        <p class="input-group"  ng-show="vistaCompacta !== true">
                            <input type="text" class="form-control" ng-model="clase.fechaClase" uib-datepicker-popup="dd/MM/yy" is-open="fechaClase.opened"  ng-blur="grabar()"  />
                            <span class="input-group-btn">
                                <button type="button" class="btn btn-default" ng-click="fechaClase.open()"><i class="glyphicon glyphicon-calendar"></i></button>
                            </span>
                        </p>
                        <p ng-show="vistaCompacta === true" ng-click="editarClase(clase)">
                            {{ clase.fechaClase | date : format : shortDate }}
                        </p>
                    </td>
                    <td class="col-md-4 col-lg-4 " title="'Ejercicios'" ng-click="editarClase(clase)">
                        <div ng-if="vistaCompacta === false">
                            <ul>
                                <li data-ng-repeat="ejercicio in clase.ejercicios">{{ ($index + 1) + ' ' + ejercicio.ejercicio.nombre + ' ' + ejercicio.musica.coleccion + '-' + ejercicio.musica.nroCd + '-' + ejercicio.musica.nroPista + ' ' + ejercicio.musica.nombre + '(' + ejercicio.musica.interprete + ')'}}</li>
                            </ul>
                        </div>
                        <div ng-if="vistaCompacta === true">
                            Cantidad ejercicios: {{ clase.ejercicios.length }}
                        </div>
                    </td>
                    <td class="col-md-1 col-lg-1 " title="'Lineas'" ng-click="editarClase(clase)">
                        {{ clase.V ? 'V':''}}{{ clase.A ? 'A':''}}{{ clase.C ? 'C':''}}{{ clase.S ? 'S':''}}{{ clase.T ? 'T':''}}
                    </td>
                    <td class="col-md-3 col-lg-3 " title="'Comentarios'" sortable="'comment'" filter="{comment: 'text'}">
                        <textarea style="width:100%" rows="{{ vistaCompacta ? '1' : clase.ejercicios.length  }}" class="form-control" ng-model="clase.comentarios"  ng-blur="grabar()"  ></textarea>
                    </td>
                </tr>
            </table>
        </form>
    </div>
</script>
<script type="text/ng-template" id="clase.html">
    <div class="row">
        <form class="form-inline">
            <div class="btn-group">
                <button type="button" class="btn btn-primary" ng-click="cerrar()" title="Volver al listado de clases"><span class="glyphicon glyphicon-menu-left"></span>   Volver</button>
                <button type="button" class="btn btn-primary" ng-if="vistaPlayer === false" ng-click="nuevoEjercicio()" title="Agregar un ejercicio a la clase"><span class="glyphicon glyphicon-plus-sign"></span>   Agregar Ejercicio</button>
                <label class="btn btn-success" ng-model="vistaPlayer" uib-btn-radio="false" ng-show="vistaPlayer === true"  uncheckable><span class="glyphicon glyphicon-resize-full"></span>   Edición</label>
                <label class="btn btn-success" ng-model="vistaPlayer" uib-btn-radio="true" ng-show="vistaPlayer !== true" uib-uncheckable="uncheckable"><span class="glyphicon glyphicon-resize-small"></span>   Play</label>
                <button type="button" class="btn btn-primary" ng-click="playAll()" title="Reproducir toda la música sin cortes"><span class="glyphicon glyphicon-play"></span>   Escuchar Todos</button>
            </div>
            <div class="form-group">
                <label>Título Clase</label>
                <input type="text" autofocus class="form-control" ng-model="clase.titulo" ng-blur="grabar()" />
            </div>
            <div class="form-group" ng-if="vistaPlayer === false">
                <label class="">Fecha Clase</label>
                <p class="input-group " style="width:130px;" >
                    <input type="text" class="form-control " ng-model="clase.fechaClase" uib-datepicker-popup="dd/MM/yy" is-open="fechaClase.opened" ng-blur="grabar()" />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="fechaClase.open()"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                </p>
            </div>
            <div class="form-group">
                <span>Total: {{tiempoTotalString}} </span>
                <span ng-if="vistaPlayer !== false" ><br/>Hora Estimada De Finalización: <strong> {{horaFin}} </strong></span>
            </div>
            <div class="form-group checkbox">
                &nbsp;&nbsp;&nbsp;&nbsp;
                <label>V<br /><input type="checkbox" ng-model="clase.V" ng-change="grabar()" /></label>
                <label>A<br /><input type="checkbox" ng-model="clase.A" ng-change="grabar()" /></label>
                <label>C<br /><input type="checkbox" ng-model="clase.C" ng-change="grabar()" /></label>
                <label>S<br /><input type="checkbox" ng-model="clase.S" ng-change="grabar()" /></label>
                <label>T<br /><input type="checkbox" ng-model="clase.T" ng-change="grabar()" /></label>
            </div>

            <table id="tblEjercicios" ng-table="tableParams" class="table table-striped table-hover" style="margin-bottom: 0px !important;">
                <tr data-ng-repeat="ejercicio in clase.ejercicios" ng-class="{ 'selected' : selected(ejercicio)}" style="{{ ejercicio.deshabilitado ? 'background-color:#b3b7bc;' : ''}}" ng-click="rowClick(ejercicio)" >
                    <td class="col-md-1 form-inline " title="'Nº'" >
                        <div class="form-group btn-group-vertical" ng-if="vistaPlayer === false">
                            <button type="button" class="btn btn-success" ng-click="moveUp(ejercicio)"  title="Mover ejercicio hacia arriba"><span class="glyphicon glyphicon-arrow-up"></span></button>
                            &nbsp;
                            <button type="button" class="btn btn-success" ng-click="moveDown(ejercicio)" title="Mover ejercicio hacia abajo"><span class="glyphicon glyphicon-arrow-down"></span></button>
                        </div>
                        <div class="form-group align-middle" >
                            <label >&nbsp;{{ ejercicio.nro }}</label>
                        </div>
                    </td>
                    <td class="col-md-3 " title="'Ejercicio'" >
                        <div class="form-group btn-group" ng-if="vistaPlayer === false">
                            <button type="button" class="btn btn-primary" title="Buscar ejercicio"><buscar-ejercicio selected="ejercicio.ejercicio" onSelectedEjercicio="grabar()" /> <span class="glyphicon glyphicon-search"></span></button>
                            <!--<button type="button" class="btn btn-success"  title="Cambiar nombre al ejercicio"  arsoft-input-modal arsoft-input-model="ejercicio.nombre" arsoft-input-label="Nombre ejercicio:" arsoft-input-title="Cambio de nombre:"> <span class="glyphicon glyphicon-edit"></span></button>-->
                            <button type="button" class="btn btn-success"  title="Editar detalles del ejercicio" ng-click="detalleEjercicioClase(ejercicio)" > <span class="glyphicon glyphicon-edit"></span></button>
                            <label class="btn"></label>
                            
                            <button type="button" class="btn btn-danger" ng-if="vistaPlayer === false" style="float:right;" ng-click="deleteEjercicio(ejercicio)" title="Eliminar ejercicio" arsoft-confirmation="¿Esta seguro que quiere eliminar el ejercicio?" arsoft-confirmation-title="Confirma Eliminación"><span class="glyphicon glyphicon-trash"></span></button>
                        </div><br/>
                        <div class="form-group  align-middle" ng-if="vistaPlayer === false" >
                            <a><label class="" data-ng-click="mostrarEjercicio(ejercicio.ejercicio)" ng-bind-html="ejercicio.nombre === '' && ejercicio.ejercicio.nombre || ejercicio.nombre  + '<br />(' + ejercicio.ejercicio.nombre + ')'"></label></a>
                        </div>
                        <div class="form-group  align-middle" ng-if="vistaPlayer === true" >
                            <a><label class="" data-ng-click="playEjercicio(ejercicio)"  ng-bind-html="ejercicio.nombre === '' && ejercicio.ejercicio.nombre || ejercicio.nombre  + '<br />(' + ejercicio.ejercicio.nombre + ')'"></label></a>
                        </div>
                    </td>
                    <td class="col-md-2" title="'Música'">
                        <div class="btn-group" ng-if="vistaPlayer === false" >
                            <button type="button" class="btn btn-primary" title="Buscar música"><buscar-musica selected="ejercicio.musica" onSelectedMusica="grabar()" ejercicio="ejercicio.ejercicio" /> <span class="glyphicon glyphicon-search"></span></button>
                            <button type="button" class="btn btn-warning"  title="Escuchar música" ng-click="playEjercicio(ejercicio)"><span class="glyphicon glyphicon-play"></span></button>
                        </div>
                        <button type="button" class="btn btn-danger" ng-if="vistaPlayer === false" style="float:right;" title="Eliminar música" ng-click="deleteMusica(ejercicio)" arsoft-confirmation="¿Esta seguro que quiere eliminar la música?" arsoft-confirmation-title="Confirma Eliminación"><span class="glyphicon glyphicon-trash"></span></button>
                        <a ng-click="playEjercicio(ejercicio)"><label class="col-md-12">{{ ejercicio.musica.coleccion + ' ' + ejercicio.musica.nroCd + '-' + ejercicio.musica.nroPista + ' ' + ejercicio.musica.nombre + ' (' + ejercicio.musica.interprete + ')' }}</label></a>
                        
                    </td>
                    <td class="col-md-3"  title="'Consigna'" >
                        <div class="form-group col-md-12" style="height:100%;" ng-if="vistaPlayer === false" >
                            <textarea class="form-control " rows="4" style="width:100%;height:auto !important;" ng-model="ejercicio.consigna" ng-blur="grabar()" ></textarea>
                        </div>
                        <div class="form-group col-md-12" style="height:100%;" ng-if="vistaPlayer !== false" >
                            {{ejercicio.consigna}}
                        </div>
                    </td>
                    <td class="col-md-2" title="'Comentarios'" ng-if="vistaPlayer === false">
                        <div class="form-group " style="height:100%;" ng-if="vistaPlayer === false">
                            <textarea class="form-control col-md-12" style="width:100%" rows="4" ng-model="ejercicio.comentarios" ng-blur="grabar()" ></textarea>
                        </div>
                        <div class="form-group col-md-12" style="height:100%;" ng-if="vistaPlayer !== false">
                            {{ejercicio.comentarios}}
                        </div>
                    </td>
                    <td class="col-md-1" title="" ng-if="vistaPlayer === false">
                        <button type="button" class="btn btn-danger" ng-click="deleteEjercicioClase(ejercicio)" title="Eliminar ejercicio" arsoft-confirmation="¿Esta seguro que quiere eliminar el ejercicio?" arsoft-confirmation-title="Confirma Eliminación"><span class="glyphicon glyphicon-trash"></span></button>
                        <br/>
                        <label class="checkbox"><input type="checkbox" title="Deshabilitar ejercicio" ng-change="grabar()" ng-model="ejercicio.deshabilitado" />Deshab.</label>
                        <button class="btn btn-primary" title="Insertar ejercicio" type="button" ng-click="insertar(ejercicio)"><span class="glyphicon glyphicon-plus-sign"></span></button>
                    </td>
                    <td class="col-md-3" title="'Configuración Música'" ng-if="vistaPlayer !== false">
                        <div class="form-inline">
                            <div class="form-group">
                                <span >Inciar a: {{ejercicio.iniciarSegundos}}</span>
                            </div>
                            <div class="form-group">
                                <span >Finalizar a: {{ejercicio.finalizarSegundos || '--'}}</span><br/>
                            </div>
                            <div class="form-group">
                                <span >Segs inicio progresivo: {{ejercicio.segundosInicioProgresivo || '--'}}</span>
                            </div>
                            <div class="form-group">
                                <span >Segs fin progresivo: {{ejercicio.segundosFinProgresivo || '--'}}</span>
                            </div>
                            <div class="form-group">
                                <span >Repeticiones: {{ejercicio.cantidadRepeticiones}}</span>
                            </div>
                            <div class="form-group">
                                <span >Pausa empalme: {{ejercicio.pauseEmpalme || '--'}}</span>
                            </div>
                            <div class="form-group">
                                <span >Minutos adicionales: {{ejercicio.minutosAdicionales}}</span>
                            </div>
                        </div>
                    </td>

                </tr>
            </table>
        </form>
    </div>
</script>
<script type="text/ng-template" id="popupBuscarMusica.html">
    <div>
        <form name="form" ng-submit="submit()">
            <div class="modal-content">
                <div class="modal-header ">
                    <div class="col-md-6">
                        <h3>Seleccionar Música</h3>
                    </div>
                    <div class="controls-row" style="float:right;">
                        <button type="button" class="btn  btn-success" aria-hidden="true" ng-click="modelMusicas.cancel()"> Cerrar </button>
                    </div>

                </div>
                <div class="modal-body">
                    <div class="col-md-10">
                        <div ng-include="'playerControls.html'"></div>
                    </div>
                    <div class="row">
                        <div class="col-lg-10">
                            <div ng-include="'grillaMusica.html'"></div>
                        </div>
                    </div>
               </div>
           </div>
        </form>
    </div>    
</script>
<script type="text/ng-template" id="grillaEjercicios.html">
    <div class="col-sm-3 horizontal-collapse" uib-collapse="modelEjercicios.isCollapsed" horizontal >
        <button type="button" class="btn btn-primary btn-sm" ng-click="modelEjercicios.hideGrupos()" >
            <i class="glyphicon glyphicon-chevron-left"></i>
        </button>
        <div ng-repeat="option in modelEjercicios.grupos track by $index">
            <input type="radio" name="grupos" ng-value="option.idGrupo" ng-change="modelEjercicios.refreshGrid()" ng-model="modelEjercicios.grupo" />
            <span>{{ option.nombre }}</span>
        </div>
    </div>
    <div class="" ng-class="modelEjercicios.colWidth" >
        <button type="button" class="btn btn-primary btn-sm" ng-click="modelEjercicios.showGrupos()" ng-if="modelEjercicios.isCollapsed===true">
            <i class="glyphicon glyphicon-chevron-right"></i>
        </button>
        <div class="row">
            <div class="col-sm-12">
                <div class="form-group form-inline">
                    <label class="control-label" for="inputBuscar">Buscar: </label>
                    <input id="inputBuscar" type="text" ng-change="modelEjercicios.txtBuscarChange()"  class="form-control" ng-model="modelEjercicios.buscar" />
                    <button type="button" class="btn btn-primary btn-sm" ng-if="modelEjercicios.isMobileOrTablet" ng-click="modelEjercicios.refreshGrid()"><i class="glyphicon glyphicon-search"></i></button>
                </div>
            </div>
            <div class="col-sm-12 form-group" >
                <table id="tblEjercicios" ng-table="modelEjercicios.tableParams" class="table table-striped table-hover" style="margin-bottom: 0px !important;">
                    <thead>
                        <tr class="success">
                            <td class="col-md-6 col-lg-6 centrado">
                                <label id="lbl_Lider">Ejercicio (Grupo)</label>
                            </td>
                            <td class="col-md-6 col-lg-6">
                                <label id="lbl_MotivoAnulacion">Musicas</label>
                            </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="ejercicio in $data" >
                            <td>
                                <a data-ng-click="modelEjercicios.mostrarEjercicio(ejercicio)" ng-bind-html-unsafe="html">({{ ejercicio.coleccion }}) {{ ejercicio.nombre }} ({{ ejercicio.grupo }})</a>
                                <div ng-if="modelEjercicios.select === true"><button type="button" class="btn btn-success" ng-click="modelEjercicios.ok(ejercicio)">Seleccionar</button></div>
                            </td>
                            <td>
                                <div data-ng-repeat="musicaEj in ejercicio.musicas" data-ng-show="modelEjercicios.filtrarMusica(musicaEj, ejercicio)">
                                    <a ng-click="modelEjercicios.playFile(musicaEj)">{{ musicaEj.coleccion + '-' + musicaEj.nroCd + '-' + musicaEj.nroPista + ' ' + musicaEj.nombre + '(' + musicaEj.interprete + ')'  }}</a>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>    

</script>
<script type="text/ng-template" id="dialog.html">
    <div id="arsoftConfirmationDialog">
        <div class="modal-header">
            <h3 class="modal-title" ng-bind="title"></h3>
        </div>
        <div class="modal-body" ng-bind="message">

        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">Aceptar</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancelar</button>
        </div>
    </div>
</script>
<script type="text/ng-template" id="inputModal.html">
    <div>
        <div class="modal-header">
            <h3 class="modal-title" ng-bind="title"></h3>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label class="control-label" for="inputText">{{model.label}}</label>
                <input id="inputText" type="text" ng-enter="ok()" ng-focus class="form-control" ng-model="model.input" />
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">Aceptar</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancelar</button>
        </div>
    </div>
</script>
<script type="text/ng-template" id="popupBuscarEjercicio.html">
    <div>
        <form name="form" ng-submit="submit()">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="col-md-11">
                        <h3> Seleccionar Ejercicio</h3>
                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-success" ng-click="cancel()"> Cerrar </button>
                    </div>
                    <div class="col-md-10">
                        <div ng-include="'playerControls.html'"></div>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-lg-12" style="height:80vh;overflow-y: scroll;">
                            <div ng-include="'grillaEjercicios.html'"></div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</script>
<script type="text/ng-template" id="playerControls.html">
    <div ng-controller="audioController" ng-show="player.state !== ''">
        <div class="row" style="height:40px !important;">
            <div class="btn-group col-md-12" >
                <button type="button" class="btn btn-primary" ng-disabled="player.clase.ejercicios.length < 2"  ng-class="{'disabled' : player.clase.ejercicios.length < 2}" ng-click="player.playPrevious()"><span class="glyphicon glyphicon-step-backward"></span></button>
                <button type="button" class="btn btn-primary" ng-disabled="player.state === 'playing'" ng-class="{'disabled' : player.state === 'playing' }" ng-click="player.play()"><span class="glyphicon glyphicon-play"></span> </button>
                <button type="button" class="btn btn-primary" ng-disabled="player.state !== 'playing'" ng-class="{'disabled' : player.state !== 'playing' }" ng-click="player.pause()"><span class="glyphicon glyphicon-pause"></span></button>
                <button type="button" class="btn btn-primary" ng-disabled="player.state !== 'playing'" ng-class="{'disabled' : player.state !== 'playing' }" ng-click="player.stop()"><span class="glyphicon glyphicon-stop"></span></button>
                <button type="button" class="btn btn-primary" ng-disabled="player.clase.ejercicios.length < 2" ng-class="{'disabled' : player.clase.ejercicios.length < 2 }" ng-click="player.playNext()"><span class="glyphicon glyphicon-step-forward"></span></button>
                <button type="button" class="btn btn-primary" title="Play Continuo" uib-btn-checkbox ng-model="player.playContinuo"><span class="glyphicon glyphicon-play-circle"></span></button>
                <button type="button" class="btn btn-primary" ng-disabled="player.state !== 'playing'" ng-class="{'disabled' : player.state !== 'playing' }" ng-click="player.finProgresivo(15)"><span class="glyphicon glyphicon-sort-by-attributes-alt"></span></button>
<!--                <label class="btn btn-primary" disabled>{{ player.durationString()}}</label>-->
                <!--<button type="button" class="btn btn-primary" ng-class="{'disabled' : model.volume > 0 }"><span class="glyphicon glyphicon-volume-off"></span></button>
        <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-volume-down"></span></button>
        <button type="button" class="btn btn-primary"><span class="glyphicon glyphicon-volume-up"></span></button>
        <button type="button" class="btn btn-primary" ><span class="glyphicon glyphicon-repeat"></span></button>-->
            </div>
        </div>
        <div class="row"  style="">
            <div class="align-top col-md-3">
                <div ng-if="player.finalizarLeftPx" style="position:relative;z-index:1000; height:10px;border-style:solid;border-width:1px;width:5px;border-color:red;left:{{player.finalizarLeftPx}}px;top:0px;"><span>|</span></div>
                <uib-progressbar id="playerProgress" max="player.duration" value="player.currentTime" style="z-index:999;border-width:1px;border-color:black;border-style: solid;background-color:#9ffcc7;" ng-click="player.progressClick($event)"><span style="color:black; white-space:nowrap;">{{ player.currentTimeString() + ' / ' + player.durationString()   }}</span> </uib-progressbar>
            </div>
        </div>
        <div class="row">
            <div class="">
                <div class="form-group ">
<!--                    <label>{{ player.currentTimeString() + ' / ' + player.durationString()   }}</label>-->
                    <label>{{ player.message }}</label>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/ng-template" id="popupEjercicioClase.html">
    <div>
        <form name="form" ng-submit="submit()">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="col-md-10">
                        <h3>Detalle del Ejercicio</h3>
                    </div>
                    <div class="col-md-1">
                        <button type="button" class="btn btn-success" ng-click="aceptar()"> Cerrar </button>
                    </div>
                    <div class="col-md-10">
                        <div ng-include="'playerControls.html'"></div>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="row ">
                        <div class="col-lg-12" style="height:80vh;overflow-y: scroll;">
                            <div class="row ">
                                <div class="form-group col-md-12">
                                    <label class="control-label" for="lblEjercicioOriginal">Ejercicio Origen:</label>
                                    <button type="button" class="btn btn-primary" title="Buscar ejercicio"><buscar-ejercicio selected="ejercicio.ejercicio" onSelectedEjercicio="grabar()" /> <span class="glyphicon glyphicon-search"></span></button>
                                    <label class="control-label" id="lblEjercicioOriginal">{{ejercicio.ejercicio.nombre}}</label>
                                </div>
                                <div class="form-group col-md-12 ">
                                    <label class="control-label" for="inputEjercicio">Título Ejercicio:</label>
                                    <input id="inputEjercicio" type="text" ng-blur="grabar()" class="form-control" ng-model="ejercicio.nombre" />
                                </div>
                                <div class="form-group  col-md-12">
                                    <label class="control-label" for="inputEjercicio">Música Ejercicio:</label>
                                    <button type="button" class="btn btn-primary" title="Buscar música"><buscar-musica selected="ejercicio.musica" onSelectedMusica="grabar()" ejercicio="ejercicio.ejercicio" /> <span class="glyphicon glyphicon-search"></span></button>
                                    <button type="button" class="btn btn-warning" title="Escuchar música" ng-click="playFile()"><span class="glyphicon glyphicon-play"></span></button>
                                    <label>{{ ejercicio.musica.coleccion + '-' + ejercicio.musica.nroCd + '-' + ejercicio.musica.nroPista + ' ' + ejercicio.musica.nombre + '(' + ejercicio.musica.interprete + ') - ' + ejercicio.musica.duracion.substring(3) }}</label>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Iniciar a los</label>
                                    <input id="inputInicio" type="number"  ng-blur="grabar()" class="form-control" ng-model="ejercicio.iniciarSegundos" />
                                    <span class="help-block">segundos</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Ini. progresivo</label>
                                    <input id="inputInicio" type="number" ng-blur="grabar()" class="form-control" ng-model="ejercicio.segundosInicioProgresivo" />
                                    <span class="help-block">segundos</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Fin a los</label>
                                    <input id="inputInicio" type="number"  ng-blur="grabar()" class="form-control" ng-model="ejercicio.finalizarSegundos" />
                                    <span class="help-block">segundos</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Fin progresivo</label>
                                    <input id="inputInicio" type="number"  ng-blur="grabar()" class="form-control" ng-model="ejercicio.segundosFinProgresivo" />
                                    <span class="help-block">segundos</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Repetir</label>
                                    <input id="inputInicio" type="number"  ng-blur="grabar()" class="form-control" ng-model="ejercicio.cantidadRepeticiones" />
                                    <span class="help-block">veces</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Adiccionar</label>
                                    <input id="inputInicio" type="number"  ng-blur="grabar()" class="form-control" ng-model="ejercicio.minutosAdicionales" />
                                    <span class="help-block">minutos</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <label class="control-label" for="inputInicio">Vol. máximo</label>
                                    <input id="inputInicio" type="number" min="0" max="100" ng-blur="grabar()" class="form-control" ng-model="ejercicio.volumen" />
                                    <span class="help-block">de 0 a 100</span>
                                </div>
                                <div class="form-group col-md-3">
                                    <!--<div class="checkbox">
                                        <label class="control-label" for="chkEmpalmar"><input id="chkEmpalmar" type="checkbox" ng-blur="grabar()" ng-model="ejercicio.empalmarTemaSiguiente" />empalmar</label>
                                    </div>-->
                                    <label class="control-label" for="inputInicio">Pausa empalme</label>
                                    <input id="inputInicio" type="number" ng-blur="grabar()" class="form-control" ng-model="ejercicio.pauseEmpalme" />
                                    <span class="help-block">segundos</span>
                                </div>
                                <div class="form-group col-md-12">
                                    <label class="control-label" for="inputInicio">Consigna</label>
                                    <textarea id="" class="form-control" ng-blur="grabar()" rows="3" ng-model="ejercicio.consigna" ></textarea>
                                </div>
                                <div class="form-group col-md-12">
                                    <label class="control-label" for="inputInicio">Comentarios</label>
                                    <textarea id="" class="form-control" rows="3" ng-blur="grabar()" ng-model="ejercicio.comentarios" ></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-success" ng-click="aceptar()"> Cerrar </button>
                </div>
            </div>
        </form>
    </div>
</script>
<script type="text/ng-template" id="about.html">
    <h2>Copyright (C) 2017<br /><br />

    Este programa es software libre. Puede redistribuirlo y/o modificarlo bajo los términos de la Licencia Pública General de GNU según es publicada por la Free Software Foundation, bien de la versión 2 de dicha Licencia o bien (según su elección) de cualquier versión posterior.
        <br /><br />
    Este programa se distribuye con la esperanza de que sea útil, pero SIN NINGUNA GARANTÍA NI SOPORTE, incluso sin la garantía MERCANTIL implícita o sin garantizar la CONVENIENCIA PARA UN PROPÓSITO PARTICULAR. Véase la Licencia Pública General de GNU para más detalles.
        <br />
</h2>
    <h3>Para sugerencias o reporte de bugs puedes contactarme a {{mail}}</h3>
</script>
<script type="text/ng-template" id="importMusica.html">
    <h2>Agregar Música<br /><br /></h2>
    <p>Para agregar música, primero debe completar un excel con las musicsa a agregar.<br />
    Haga <a href="docs/importaMusicas.xlsm"> clic aqui</a> para descargar el archivo excel con el cual se genera el archivo de importación.</p>
    <button type="button" class="btn btn-primary" ng-click="pickImportFile()" title="Importar música de un archivo"><span class="glyphicon glyphicon-import"></span>   Importar Música</button>
    <input type="file" id="fileImport" style="visibility:hidden;" onchange="angular.element(this).scope().importarMusica(this)" />
    <table id="tblImport" ng-table="tableParams" class="table table-striped table-hover" style="margin-bottom: 0px !important;" >
        <thead>
            <tr class="success">
                <td class="col-md-2 col-lg-2">
                    <label>Titulo</label>
                </td>
                <td class="col-md-2 col-lg-2">
                    <label>Archivo</label>
                </td>
                <td class="col-md-1 col-lg-1">
                    <label>Resultado</label>
                </td>
                <td class="col-md-7 col-lg-7">
                    <label>Mensaje</label>
                </td>
            </tr>
        </thead>
        <tbody>
            <tr data-ng-repeat="item in $data">
                <td>
                    {{item.titulo}} ({{item.coleccion}})
                </td>
                <td>
                    {{item.archivo}}
                </td>
                <td>
                    {{item.ok ? 'ok' : 'error' }}
                </td>
                <td>
                    {{item.msg}}
                </td>
            </tr>
        </tbody>
    </table>
</script>
</body>
</html>
